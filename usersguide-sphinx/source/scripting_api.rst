Modelica and Python Scripting API
=================================

The following are short summaries of OpenModelica scripting commands.
These commands are useful for loading and saving classes, reading and
storing data, plotting of results, and various other tasks.

The arguments passed to a scripting function should follow syntactic and
typing rules for Modelica and for the scripting function in question. In
the following tables we briefly indicate the types or character of the
formal parameters to the functions by the following notation:

-  String typed argument, e.g. "hello", "myfile.mo".

-  TypeName – class, package or function name, e.g. MyClass,
       Modelica.Math.

-  VariableName – variable name, e.g. v1, v2, vars1[2].x, etc.

-  Integer or Real typed argument, e.g. 35, 3.14, xintvariable.

-  options – optional parameters with named formal parameter passing.

OpenModelica Modelica Scripting Commands
----------------------------------------


The following are brief descriptions of the scripting commands available
in the OpenModelica environment.

OpenModelica Basic Commands
~~~~~~~~~~~~~~~~~~~~~~~~~~~

This is a selection of the most common commands related to simulation
and plotting:

+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **checkModel**\ (className)                                                  | Checks a model and returns number of variables and equations. *Inputs*: TypeName className; *Outputs*: String res;                                                                                                    |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **clear**\ ()                                                                | Clears everything in OpenModelica compiler and interpreter workspace: symboltable and variables. *Outputs*: Boolean res;                                                                                              |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getMessagesString**\ ()                                                    | Returns the current error message. *Outputs*: String messagesString;                                                                                                                                                  |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **help**\ ()                                                                 | Display the OpenModelica help text.                                                                                                                                                                                   |
|                                                                              |                                                                                                                                                                                                                       |
|                                                                              | *Outputs*: String helpText;                                                                                                                                                                                           |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **importFMU**\ (fileName, workDir)                                           | Imports a Functional Mockup Unit. *Inputs*: String filename; String workdir "./" "The output directory for imported FMU files. <default> will put the files to current working directory."; *Outputs*: Boolean res;   |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **instantiateModel**\ (className)                                            | Flatten model, resulting in a .mof file of flattened Modelica. *Inputs*: TypeName className; *Outputs*: String res;                                                                                                   |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **list**\ (className)                                                        | Print class definition. *Inputs*: TypeName className;                                                                                                                                                                 |
|                                                                              | *Outputs*: String classDef;                                                                                                                                                                                           |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **listVariables**\ ()                                                        | Print user defined variables. *Outputs*: VariableName res;                                                                                                                                                            |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **loadFile**\ (fileName)                                                     | Load models from file.                                                                                                                                                                                                |
|                                                                              | *Inputs*: String fileName; *Outputs*: Boolean res;                                                                                                                                                                    |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **loadModel**\ (className)                                                   | Load the file corresponding to the class, using the Modelica class name to file name mapping to locate the file.                                                                                                      |
|                                                                              | *Inputs*: TypeName className; *Outputs*: Boolean res;                                                                                                                                                                 |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **plot**\ (variable, options)                                                | | Plot variable, which is a single variable name.                                                                                                                                                                     |
|                                                                              | | *Inputs*: VariableName variable; String title; Boolean legend; Boolean gridLines;                                                                                                                                   |
|                                                                              | | Real xrange[2] i.e. {xmin,xmax};                                                                                                                                                                                    |
|                                                                              |                                                                                                                                                                                                                       |
|                                                                              | | Real yrange[2] i.e. {ymin,ymax};                                                                                                                                                                                    |
|                                                                              | | *Outputs*: Boolean res;                                                                                                                                                                                             |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **plot**\ (variables, options)                                               | | Plot variables, which is a vector of variable names.                                                                                                                                                                |
|                                                                              | | *Inputs*: VariableName variables; String title; Boolean legend; Boolean gridLines;                                                                                                                                  |
|                                                                              | | Real xrange[2] i.e. {xmin,xmax};                                                                                                                                                                                    |
|                                                                              |                                                                                                                                                                                                                       |
|                                                                              | | Real yrange[2] i.e. {ymin,ymax};                                                                                                                                                                                    |
|                                                                              | | *Outputs*: Boolean res;                                                                                                                                                                                             |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **plotParametric**\ (variables1,                                             | Plot each pair of corresponding variables from the vectors of variables variables1, variables2 as a parametric plot.                                                                                                  |
| variables2, options)                                                         | *Inputs*: VariableName variables1[:]; VariableName variables2[size(variables1,1)]; String title; Boolean legend; Boolean gridLines; Real range[2,2]; *Outputs*: Boolean res;                                          |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **readFile**\ (fileName)                                                     | The contents of the given file are returned. Note that if the function fails, the error message is returned as a string instead of multiple outputs or similar.                                                       |
|                                                                              |                                                                                                                                                                                                                       |
|                                                                              | *Inputs*: String fileName; *Outputs*: String content;                                                                                                                                                                 |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **save**\ (className)                                                        | Save class definition.                                                                                                                                                                                                |
|                                                                              |                                                                                                                                                                                                                       |
|                                                                              | *Inputs*: TypeName className *Outputs*: Boolean res;                                                                                                                                                                  |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **saveAll**\ (fileName)                                                      | Save the entire loaded AST (Abstract Syntax Tree internal representation of all loaded models) as text to a file.                                                                                                     |
|                                                                              |                                                                                                                                                                                                                       |
|                                                                              | *Inputs*: String fileName; *Outputs*: Boolean res;                                                                                                                                                                    |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **saveModel**\ (fileName, className)                                         | Save class definition in a file. *Inputs*: String fileName; TypeName className *Outputs*: Boolean res;                                                                                                                |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **saveTotalModel**\ (fileName, className)                                    | Save total class definition into file of a class. *Inputs*: String fileName; TypeName className *Outputs*: Boolean res;                                                                                               |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setDebugFlags**\ (debugFlags)                                              | *Inputs*: String debugFlags; *Outputs*: Boolean res;                                                                                                                                                                  |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setInitXmlStartValue**\ (fileName, variableName, startValue, outputFile)   | Sets the parameter start value in the model\_init.xml file. No need to recompile the model. *Inputs*: String fileName; String variableName; String startValue; String outputFile; *Outputs*: Boolean success;         |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **simulate**\ (className, options)                                           | Simulate model, optionally setting simulation values.                                                                                                                                                                 |
|                                                                              | *Inputs*: TypeName className; Real startTime;                                                                                                                                                                         |
|                                                                              | Real stopTime; Integer numberOfIntervals;                                                                                                                                                                             |
|                                                                              | Real outputInterval; String method;                                                                                                                                                                                   |
|                                                                              | Real tolerance; Real fixedStepSize;                                                                                                                                                                                   |
|                                                                              | *Outputs*: SimulationResult simRes;                                                                                                                                                                                   |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **typeOf**\ (variableName)                                                   | *Inputs*: VariableName variableName; *Outputs*: String res;                                                                                                                                                           |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **val**\ (var, timepoint)                                                    | Returns the value of the variable at a certain time point.                                                                                                                                                            |
|                                                                              |                                                                                                                                                                                                                       |
|                                                                              | *Inputs*: VariableName var; Real timepoint; *Outputs*: Real valAtTime;                                                                                                                                                |
+------------------------------------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

OpenModelica System Commands
----------------------------

This is a selection of common OpenModelica commands related to the
operating system:

+---------------------------------------------+---------------------------------------------------------------------------------------------------+
| **cd**\ (dir)                               | Change directory. *Inputs*: String dir;                                                           |
|                                             | *Outputs*: Boolean res;                                                                           |
+---------------------------------------------+---------------------------------------------------------------------------------------------------+
| **deleteFile**\ (fileName)                  | Deletes a file with the given name. *Inputs*: String fileName; *Outputs*: Boolean res;            |
+---------------------------------------------+---------------------------------------------------------------------------------------------------+
| **dirName**\ (path)                         | Returns the directory name of a file path. *Inputs*: String path; *Outputs*: String dirName;      |
+---------------------------------------------+---------------------------------------------------------------------------------------------------+
| **runScript**\ (fileName)                   | Executes the script file given as argument.                                                       |
|                                             | *Inputs*: String fileName; *Outputs*: Boolean res;                                                |
+---------------------------------------------+---------------------------------------------------------------------------------------------------+
| **setLanguageStandard**\ (                  | Sets the Modelica Language Standard. *Inputs*: String inVersion; *Outputs*: Boolean res;          |
|                                             |                                                                                                   |
| inVersion)                                  |                                                                                                   |
+---------------------------------------------+---------------------------------------------------------------------------------------------------+
| **setModelicaPath**\ (                      | Sets the modelica path. See loadModel() for a description of what the MODELICAPATH is used for.   |
|                                             |                                                                                                   |
| modelicaPath)                               | *Inputs*: String modelicaPath; *Outputs*: Boolean res;                                            |
+---------------------------------------------+---------------------------------------------------------------------------------------------------+
| **system**\ (fileName)                      | Execute system command. *Inputs*: String fileName; *Outputs*: Integer res;                        |
+---------------------------------------------+---------------------------------------------------------------------------------------------------+
| **writeFile**\ (fileName, data, optional)   | Write the data to file. Returns true on success.                                                  |
|                                             |                                                                                                   |
|                                             | *Inputs*: String fileName; String data; Boolean append; *Outputs*: Boolean res;                   |
+---------------------------------------------+---------------------------------------------------------------------------------------------------+

All OpenModelica API Calls
--------------------------

All OpenModelica API commands shown in alphabetic order:

+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **appendEnvironmentVar**\ (var, value)                                       | Appends a variable to the environment variables list. *Inputs:* String var; String value; *Outputs:* String res;                                                                                                                                                                                                                       |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **baseName**\ (path)                                                         | Returns the base name (file part) of a file path.                                                                                                                                                                                                                                                                                      |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs:* String path; *Outputs:* String basename;                                                                                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **cd**\ (dir)                                                                | Change directory. *Inputs*: String dir;                                                                                                                                                                                                                                                                                                |
|                                                                              | *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                                                |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **checkAllModelsRecursive**\ (                                               | Checks all models recursively and returns number of variables and equations. *Inputs*: TypeName className;                                                                                                                                                                                                                             |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className, protected)                                                        | Boolean protected *Outputs*: String res;                                                                                                                                                                                                                                                                                               |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **checkModel**\ (className)                                                  | Checks a model and returns number of variables and equations. *Inputs*: TypeName className; *Outputs*: String res;                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **checkSettings**\ ()                                                        | Display some diagnostics. *Outputs*: CheckSettingsResult res;                                                                                                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **clear**\ ()                                                                | Clears everything: symboltable and variables.                                                                                                                                                                                                                                                                                          |
|                                                                              | *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                                                |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **clearMessages**\ ()                                                        | Clears the error buffer. *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                       |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **clearVariables**\ ()                                                       | Clear all user defined variables. *Outputs*: Boolean res;                                                                                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **codeToString**\ (className)                                                | Converts to a string after encoding. *Inputs*: $Code className; *Outputs*: String res;                                                                                                                                                                                                                                                 |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **compareSimulationResults**\ (                                              | Compares simulation results. *Inputs*: String fileName; String refFileName; String logFileName; Real refTol; Real absTol; String[:] vars; *Outputs*: String res;                                                                                                                                                                       |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| fileName, refFileName, logFileName, refTol, absTol,vars)                     |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **deleteFile**\ (fileName)                                                   | Deletes a file with the given name. *Inputs*: String fileName; *Outputs*: Boolean res;                                                                                                                                                                                                                                                 |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **dirName**\ (path)                                                          | Returns the directory name of a file path. *Inputs*: String path; *Outputs*: String dirName;                                                                                                                                                                                                                                           |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **dumpXMLDAE**\ (className)                                                  | Outputs the DAE system corresponding to a specific model. *Inputs*: TypeName className; *Outputs*: String res;                                                                                                                                                                                                                         |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **echo**\ (setEcho)                                                          | echo (false) disables Interactive output, echo(true) enables it again. *Inputs*: Boolean setEcho; *Outputs*: Boolean newEcho;                                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **generateCode**\ (className)                                                | Generate C-code and compiled into a dll. *Inputs*: TypeName className; *Outputs*: Boolean res;                                                                                                                                                                                                                                         |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **generateHeader**\ (fileName)                                               | Generates a C header file containing the external C interface of the MetaModelica uniontypes in the loaded files. This C interface is called by the parser to build nodes for the abstract syntax tree\ *. Inputs*: String fileName; *Outputs*: Boolean res;                                                                           |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getAlgorithmCount**\ (className)                                           | Counts the number of Algorithm sections in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                            |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getAlgorithmItemsCount**\ (                                                | Counts the number of Algorithm items in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                               |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className)                                                                   |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getAnnotationCount**\ (                                                    | Counts the number of Annotation sections in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                           |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className)                                                                   |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getAnnotationVersion**\ ()                                                 | Returns the current annotation version. *Outputs*: String annotationVersion;                                                                                                                                                                                                                                                           |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getAstAsCorbaString**\ (                                                   | Print the whole AST on the CORBA format for records. *Inputs*: String fileName; *Outputs*: String res;                                                                                                                                                                                                                                 |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| fileName)                                                                    |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getClassComment**\ (className)                                             | Returns the class comment. *Inputs*: TypeName className; *Outputs*: String comment;                                                                                                                                                                                                                                                    |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getClassNames**\ (fileName)                                                | Returns the list of class names defined in the class. *Inputs*: String fileName; *Outputs*: TypeName classNames;                                                                                                                                                                                                                       |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getClassRestriction**\ (className)                                         | Returns the type of class. *Inputs*: TypeName className; *Outputs*: String restriction;                                                                                                                                                                                                                                                |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getClassInformation**\ (className)                                         | Returns the list containing the information of the class. *Inputs*: TypeName className; *Outputs*: String information;                                                                                                                                                                                                                 |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getClassesInModelicaPath**\ ()                                             | *Outputs*: String classesInModelicaPath;                                                                                                                                                                                                                                                                                               |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getCompileCommand**\ ()                                                    | *Outputs*: String compileCommand;                                                                                                                                                                                                                                                                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getIconAnnotation**\ (className)                                           | Returns the icon representation of the class. *Inputs*: TypeName className; *Outputs*: String out;                                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getDiagramAnnotation**\ (className)                                        | Returns the diagram representation of the class. *Inputs*: TypeName className; *Outputs*: String out;                                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getParameterName**\ (className)                                            | Returns the list of parameters present in the class. *Inputs*: TypeName className; *Outputs*: String out;                                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getParameterValue**\ (className, parameter)                                | Returns the parameter value. *Inputs*: TypeName className; String parameter; *Outputs*: String value;                                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getComponentModifierNames**\ (className)                                   | Returns the list of component modifiers present in the class. *Inputs*: TypeName className; *Outputs*: String out;                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getComponentModifierValue**\ (className, modifier)                         | Returns the component modifier value. *Inputs*: TypeName className; String modifier; *Outputs*: String value;                                                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getExtendsModifierNames**\ (className)                                     | Returns the list of extends modifiers present in the class. *Inputs*: TypeName className; *Outputs*: String out;                                                                                                                                                                                                                       |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getExtendsModifierValue**\ (className, modifier)                           | Returns the extends modifier value. *Inputs*: TypeName className; String modifier; *Outputs*: String value;                                                                                                                                                                                                                            |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getDocumentationAnnotation** (className)                                   | Returns the documentation annotation defined in the class. *Inputs*: TypeName className; *Outputs*: String out[2] "{info,revision}";                                                                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getEnvironmentVar**\ (var)                                                 | Returns the value of the environment variable. *Inputs*: String var; *Outputs*: String value;                                                                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getEquationCount**\ (className)                                            | Counts the number of Equation sections in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getEquationItemsCount**\ (                                                 | Counts the number of Equation items in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                                |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className)                                                                   |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getErrorString**\ ()                                                       | Returns the current error message. *Outputs*: String errorString;                                                                                                                                                                                                                                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getImportCount** (className)                                               | Counts the number of Import sections in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                               |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getInitialAlgorithmCount**\ (                                              | Counts the number of Initial Algorithm sections in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                    |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className)                                                                   |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getInitialAlgorithmItemsCount**\ (className)                               | Counts the number of Initial Algorithm items in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                       |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getInitialEquationCount**\ (                                               | Counts the number of Initial Equation sections in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                     |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className)                                                                   |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getInitialEquationItemsCount** (className)                                 | Counts the number of Initial Equation items in a class. *Inputs*: TypeName className; *Outputs*: Integer count;                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getInstallationDirectoryPath** ()                                          | Returns OPENMODELICAHOME if it is set; on some platforms the default path is returned if it is not set. *Outputs*: String installationDirectoryPath;                                                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getLanguageStandard**\ ()                                                  | Returns the current Modelica Language Standard in use. *Outputs*: String outVersion;                                                                                                                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getMessagesString**\ ()                                                    | Returns the current error message. *Outputs*: String messagesString;                                                                                                                                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getMessagesStringInternal**\ ()                                            | Returns Error: message, TRANSLATION, Error, code. *Outputs*: ErrorMessage[:] messagesString;                                                                                                                                                                                                                                           |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getModelicaPath**\ ()                                                      | Get the Modelica Library Path. *Outputs*: String modelicaPath;                                                                                                                                                                                                                                                                         |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNoSimplify**\ ()                                                        | Returns true if noSimplify flag is set. *Outputs*: Boolean res;                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthAlgorithm**\ (className, index)                                      | Returns the Nth Algorithm section. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthAlgorithmItem**\ (                                                   | Returns the Nth Algorithm Item. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                                |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className, index)                                                            |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthAnnotationString** (className, index)                                | Returns the Nth Annotation section as string. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthEquation**\ (className, index)                                       | Returns the Nth Equation section. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthEquationItem**\ (                                                    | Returns the Nth Equation Item. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                                 |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className)                                                                   |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthImport**\ (className, index)                                         | Returns the Nth Import as string. *Inputs:* TypeName className; Integer index; *Outputs:* String out[3] "{\\"Path\\",\\"Id\\",\\"Kind\\"}"*;*                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthInitialAlgorithm**\ (                                                | Returns the Nth Initial Algorithm section. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                     |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className, index)                                                            |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthInitialAlgorithmItem(**                                              | Returns the Nth Initial Algorithm Item. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                        |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className, index)                                                            |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthInitialEquation**\ (                                                 | Returns the Nth Initial Equation section. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                      |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className, index)                                                            |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getNthInitialEquationItem**\ (                                             | Returns the Nth Initial Equation Item. *Inputs:* TypeName className; Integer index; *Outputs:* String res\ *;*                                                                                                                                                                                                                         |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| className, index)                                                            |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getOrderConnections**\ ()                                                  | Returns true if orderConnections flag is set.                                                                                                                                                                                                                                                                                          |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Outputs*: Boolean isOrderConnections;                                                                                                                                                                                                                                                                                                 |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getPackages**\ (className)                                                 | Returns the list of packages defined in the class. *Inputs*: TypeName className = $Code(AllLoadedClasses); *Outputs*: TypeName classNames[:];                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getPlotSilent**\ ()                                                        | Returns true if plotSilent flag is set.                                                                                                                                                                                                                                                                                                |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Outputs*: Boolean isPlotSilent;                                                                                                                                                                                                                                                                                                       |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getSettings**\ ()                                                          | Returns the settings. *Outputs*: String settings;                                                                                                                                                                                                                                                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getShowAnnotations**\ ()                                                   | *Outputs*: Boolean show;                                                                                                                                                                                                                                                                                                               |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getSourceFile**\ (className)                                               | Returns the filename of the class. *Inputs*: TypeName className; *Outputs*: String filename;                                                                                                                                                                                                                                           |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getTempDirectoryPath**\ ()                                                 | Returns the current user temporary directory location.                                                                                                                                                                                                                                                                                 |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Outputs*: String tempDirectoryPath;                                                                                                                                                                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getVectorizationLimit**\ ()                                                | *Outputs*: Integer vectorizationLimit;                                                                                                                                                                                                                                                                                                 |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **getVersion**\ (c1)                                                         | Returns the version of the Modelica compiler. *Inputs*: TypeName c1 = $Code(OpenModelica); *Outputs*: String version;                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **help**\ ()                                                                 | Display the OpenModelica help text.                                                                                                                                                                                                                                                                                                    |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Outputs*: String helpText;                                                                                                                                                                                                                                                                                                            |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **iconv**\ (string, from, to)                                                | Converts one multibyte characters from one character set to another. *Inputs*: String string; String from; String to; *Outputs*: String res;                                                                                                                                                                                           |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **importFMU**\ (fileName, workDir)                                           | Imports the Functional Mockup Unit. *Inputs*: String filename; String workdir "./" "The output directory for imported FMU files. <default> will put the files to current working directory."; *Outputs*: Boolean res;                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **instantiateModel**\ (className)                                            | Instantiate model, resulting in a .mof file of flattened Modelica. *Inputs*: TypeName className; *Outputs*: String res;                                                                                                                                                                                                                |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **isModel**\ (className)                                                     | Returns true if the given class has restriction model.                                                                                                                                                                                                                                                                                 |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: TypeName className; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **isPackage**\ (className)                                                   | Returns true if the given class is a package.                                                                                                                                                                                                                                                                                          |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: TypeName className; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **isPartial**\ (className)                                                   | Returns true if the given class is partial.                                                                                                                                                                                                                                                                                            |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: TypeName className; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **list**\ (className)                                                        | Print class definition. *Inputs*: TypeName className;                                                                                                                                                                                                                                                                                  |
|                                                                              | *Outputs*: String classDef;                                                                                                                                                                                                                                                                                                            |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **listVariables**\ ()                                                        | Print user defined variables. *Outputs*: VariableName res;                                                                                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **loadFile**\ (fileName)                                                     | Load models from file.                                                                                                                                                                                                                                                                                                                 |
|                                                                              | *Inputs*: String fileName; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **loadFileInteractive**\ (                                                   | Outputs the class names in the parsed file (top level only). Used by OpenModelica MDT. *Inputs*: String fileName; *Outputs*: TypeName names[:];                                                                                                                                                                                        |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| fileName)                                                                    |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **loadFileInteractiveQualified**\ (fileName)                                 | Output all the class names in the parsed file fully qualified. *Inputs*: String fileName; *Outputs*: TypeName names[:];                                                                                                                                                                                                                |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **loadModel**\ (className)                                                   | Load the file corresponding to the class, using the Modelica class name to file name mapping to locate the file.\ **                                                                                                                                                                                                                   |
|                                                                              | **\ *Inputs*: TypeName className; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **loadString**\ (data)                                                       | Parses the data and merges the resulting AST with the loaded AST. *Inputs*: String data; *Outputs*: TypeName names[:];                                                                                                                                                                                                                 |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **parseFile**\ (filename)                                                    | Parses the file and returns a list of the classes found in the file. *Inputs*: String filename; *Outputs*: TypeName names[:];                                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **parseString**\ (data)                                                      | Parses the string data and returns the list of classes found in data. *Inputs*: String data; *Outputs*: TypeName names[:];                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **plot**\ (variable, options)                                                | | Plots variable, which is a single variable name.                                                                                                                                                                                                                                                                                     |
|                                                                              | | *Inputs*: VariableName variable; String title; Boolean legend; Boolean gridLines;                                                                                                                                                                                                                                                    |
|                                                                              | | Real xrange[2] i.e. {xmin,xmax};                                                                                                                                                                                                                                                                                                     |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | | Real yrange[2] i.e. {ymin,ymax};                                                                                                                                                                                                                                                                                                     |
|                                                                              | | *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **plot**\ (variables, options)                                               | | Plots variables, which is a vector of variable names.                                                                                                                                                                                                                                                                                |
|                                                                              | | *Inputs*: VariableName variables; String title; Boolean legend; Boolean gridLines;                                                                                                                                                                                                                                                   |
|                                                                              | | Real xrange[2] i.e., {xmin,xmax};                                                                                                                                                                                                                                                                                                    |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | | Real yrange[2] i.e., {ymin,ymax};                                                                                                                                                                                                                                                                                                    |
|                                                                              | | *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **plotAll**\ (options)                                                       | Plot all variables; It does not accept any variable names as input .                                                                                                                                                                                                                                                                   |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String title; Boolean legend; Boolean gridLines; Real xrange[2] i.e., {xmin,xmax};                                                                                                                                                                                                                                           |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | | Real yrange[2] i.e., {ymin,ymax};                                                                                                                                                                                                                                                                                                    |
|                                                                              | | *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **plotParametric**\ (variables1,                                             | Plot each pair of corresponding variables from the vectors of variables variables1, variables2 as a parametric plot.                                                                                                                                                                                                                   |
| variables2, options)                                                         | *Inputs*: VariableName variables1[:]; VariableName variables2[size(variables1,1)]; String title; Boolean legend; Boolean gridLines; Real range[2,2]; *Outputs*: Boolean res;                                                                                                                                                           |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **readFile**\ (fileName)                                                     | The contents of the given file are returned. Note that if the function fails, the error message is returned as a string instead of multiple outputs or similar.                                                                                                                                                                        |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String fileName; *Outputs*: String content;                                                                                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **readFileNoNumeric**\ (fileName)                                            | Returns the contents of the file, with anything resembling a (real) number stripped out, and at the end adding: *Inputs*: String fileName; *Outputs*: String content;                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **readFilePostprocessLineDirective**\ (fileName)                             | Searches lines for the #modelicaLine directive. *Inputs*: String fileName; *Outputs*: String res;                                                                                                                                                                                                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **readFileShowLineNumbers**\ (                                               | Prefixes each line in the file with <n>: where n is the line number.                                                                                                                                                                                                                                                                   |
| fileName)                                                                    |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | Note: Scales O(n^2)                                                                                                                                                                                                                                                                                                                    |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String fileName; *Outputs*: String res;                                                                                                                                                                                                                                                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **readSimulationResult**\ (                                                  | Reads the simulation result for a list of variables and returns a matrix of values (each column as a vector or values for a variable.) Size of result is also given as input. *Inputs*: String fileName; VariableName variables[:]; Integer size;                                                                                      |
| fileName, variables, size)                                                   | *Outputs*: Real res[size(variables,1),size)];                                                                                                                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **readSimulationResultSize**\ (                                              | The number of intervals that are present in the output file. *Inputs*: String fileName; *Outputs*: Integer size;                                                                                                                                                                                                                       |
| fileName)                                                                    |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **readSimulationResultVars**\ (                                              | Returns the variables in the simulation file; you can use val() and plot() commands using these names. *Inputs*: String fileName; *Outputs*: String[:] vars;                                                                                                                                                                           |
| fileName)                                                                    |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **regex**\ (string, re, options)                                             | Sets the error buffer and returns -1 if the regular expression does not compile. *Inputs*: String string; String re; Integer maxMatches; Boolean extended; Boolean caseInsensitive; *Outputs*: Integer numMatches; String matchedSubstrings[maxMatches];                                                                               |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **regexBool**\ (string, re, options)                                         | Returns true if the string matches the regular expression.                                                                                                                                                                                                                                                                             |
|                                                                              | *Inputs*: String string; String re; Boolean extended; Boolean caseInsensitive; *Outputs*: Boolean matches;                                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **regularFileExists**\ (fileName)                                            | Returns the content of the given files. Note that if the function fails, the error message is returned as a string instead of multiple outputs or similar.                                                                                                                                                                             |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String fileName; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **reopenStandardStream**\ (                                                  | Executes the script file given as argument.                                                                                                                                                                                                                                                                                            |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| \_stream, fileName)                                                          | *Inputs*: String fileName; StandardStream \_stream; *Outputs*: Boolean res;                                                                                                                                                                                                                                                            |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **runScript**\ (fileName)                                                    | Executes the script file given as argument.                                                                                                                                                                                                                                                                                            |
|                                                                              | *Inputs*: String fileName; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **save**\ (className)                                                        | Save class definition.                                                                                                                                                                                                                                                                                                                 |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: TypeName className *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **saveAll**\ (fileName)                                                      | Save the entire loaded AST to file.                                                                                                                                                                                                                                                                                                    |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String fileName; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **saveModel**\ (fileName, className)                                         | Save class definition in a file. *Inputs*: String fileName; TypeName className *Outputs*: Boolean res;                                                                                                                                                                                                                                 |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **saveTotalModel**\ (fileName, className)                                    | Save total class definition into file of a class. *Inputs*: String fileName; TypeName className *Outputs*: Boolean res;                                                                                                                                                                                                                |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **saveTotalSCode**\ (fileName, className)                                    | *Inputs*: String fileName; TypeName className *Outputs*: Boolean res;                                                                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setAnnotationVersion**\ (                                                  | Sets the annotation version. *Inputs*: String annotationVersion; *Outputs*: Boolean res;                                                                                                                                                                                                                                               |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| annotationVersion)                                                           |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setCXXCompiler**\ (compiler)                                               | *Inputs*: String compiler; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                     |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setClassComment**\ (className, fileName)                                   | Sets the class comment. *Inputs*: String fileName; TypeName className *Outputs*: Boolean res;                                                                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **saveTotalModel**\ (fileName, className)                                    | Save total class definition into file of a class. *Inputs*: String fileName; TypeName className *Outputs*: Boolean res;                                                                                                                                                                                                                |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setCompileCommand**\ (                                                     | Sets the default Compilation command. *Inputs*: String compileCommand; *Outputs*: Boolean res;                                                                                                                                                                                                                                         |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| compileCommand)                                                              |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setCompiler**\ (compiler)                                                  | Sets the default C Compiler. *Inputs*: String compiler; *Outputs*: Boolean res;                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setCompilerFlags**\ (                                                      | Sets the compiler flags that are used while compiling the simulation executable. *Inputs*: String compilerFlags; *Outputs*: Boolean res;                                                                                                                                                                                               |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| compilerFlags)                                                               |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setCompilerPath**\ (                                                       | Sets the default compiler location. *Inputs*: String compilerPath; *Outputs*: Boolean res;                                                                                                                                                                                                                                             |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| compilerPath)                                                                |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setComponentModifierValue**\ (className, modifier, value)                  | Sets the component modifier value. *Inputs*: TypeName className; String modifier; String value; *Outputs*: Boolean result;                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setDebugFlags**\ (debugFlags)                                              | Sets the debug flags. For details run “omc +help=debug” on the command line interface. *Inputs*: String debugFlags; *Outputs*: Boolean res;                                                                                                                                                                                            |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setEnvironmentVar**\ (var, value)                                          | Sets an environment variable. *Inputs*: String var; String value; *Outputs*: Boolean res;                                                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setExtendsModifierValue**\ (className, modifier, value)                    | Sets the extends modifier value. *Inputs*: TypeName className; String modifier; String value; *Outputs*: Boolean result;                                                                                                                                                                                                               |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setIndexReductionMethod**\ (                                               | Sets the index reduction method e.g setIndexReductionMethod ("dynamicStateSelection")*. Inputs*: String method; *Outputs*: Boolean res;                                                                                                                                                                                                |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| method)                                                                      |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setInitXmlStartValue**\ (fileName, variableName, startValue, outputFile)   | Sets the parameter start value in the model\_init.xml file. No need to recompile the model. *Inputs*: String fileName; String variableName; String startValue; String outputFile; *Outputs*: Boolean success;                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setInstallationDirectoryPath** (debugFlags)                                | Sets the OPENMODELICAHOME environment variable.                                                                                                                                                                                                                                                                                        |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String installationDirectoryPath; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                    |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setLanguageStandard**\ (                                                   | Sets the Modelica Language Standard\ *. Inputs*: String inVersion; *Outputs*: Boolean res;                                                                                                                                                                                                                                             |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| inVersion)                                                                   |                                                                                                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setLinker**\ (linker)                                                      | Sets the linker\ *. *                                                                                                                                                                                                                                                                                                                  |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String linker; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                       |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setLinkerFlags**\ (linkerFlag)                                             | Sets the linker flag.                                                                                                                                                                                                                                                                                                                  |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String linkerFlag; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setModelicaPath(**                                                         | Sets the modelica path\ *.* See *loadModel()* for a description of what the MODELICAPATH is used for.                                                                                                                                                                                                                                  |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| modelicaPath)                                                                | *Inputs*: String modelicaPath; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                 |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setNoSimplify**\ (noSimplify)                                              | Sets the noSimplify flag.                                                                                                                                                                                                                                                                                                              |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: Boolean noSimplify; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                  |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setOrderConnections**\ (                                                   | Sets orderering for connect equation. If set, the compiler will order connect equations alphabetically.                                                                                                                                                                                                                                |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| debugFlags)                                                                  | *Inputs*: Boolean orderConnections; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                            |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setParameterValue**\ (className, parameter, value)                         | Sets the parameter value in the class, i.e., updates the parameter definition equation. *Inputs*: TypeName className; String parameter; String value; *Outputs*: Boolean result;                                                                                                                                                       |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setPlotSilent**\ (silent)                                                  | Sets the plotSilent flag\ *.* If the flag is true show the OMPlot window and pass the arguments to it. If the flag is false don’t show OMPlot and just output the list of arguments. The false case is used in OMNotebook where the plot window is not shown; instead the arguments are read and an embedded plot window is created.   |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: Boolean silent; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setPostOptModules**\ (modules)                                             | Sets the post optimization modules to use in the compiler back end. Use the command "omc +help=optmodules" for more information. Example: setPostOptModules("lateInline", "inlineArrayEqn","removeSimpleEquations") *Inputs*: String module1, module2, …; *Outputs*: Boolean res;                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setPreOptModules**\ (module)                                               | Sets the pre optimization modules to use in the back end. Use the command line command "omc +help=optmodules" for more information. *Inputs*: String module; *Outputs*: Boolean res;                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setShowAnnotations**\ ()                                                   | Show annotations in the flattened code. *Inputs*: Boolean show; *Outputs*: Boolean res;                                                                                                                                                                                                                                                |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setSourceFile**\ (className, fileName)                                     | Sets the output file name for the specified class. *Inputs*: TypeName className; String fileName; *Outputs*: Boolean res;                                                                                                                                                                                                              |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setTempDirectoryPath**\ (tempDirectoryPath)                                | Sets the current user's temporary directory path. This is not the same as the current user's working directory which is set by the cd() command. *Inputs*: String tempDirectoryPath; *Outputs*: Boolean res;                                                                                                                           |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **setVectorizationLimit**\ (                                                 | Sets scalarization limit. Arrays of size above this limit will not be scalarized, i.e., expanded to a set of scalar elements.                                                                                                                                                                                                          |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
| vectorizationLimit)                                                          | *Inputs*: Integer scalarizationLimit; *Outputs*: Boolean res;                                                                                                                                                                                                                                                                          |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **simulate**\ (className, options)                                           | Simulate model, optionally setting simulation values.\ **                                                                                                                                                                                                                                                                              |
|                                                                              | **\ *Inputs*: TypeName className; Real startTime;                                                                                                                                                                                                                                                                                      |
|                                                                              | Real stopTime; Integer numberOfIntervals;                                                                                                                                                                                                                                                                                              |
|                                                                              | Real outputInterval; String method;                                                                                                                                                                                                                                                                                                    |
|                                                                              | Real tolerance; Real fixedStepSize;                                                                                                                                                                                                                                                                                                    |
|                                                                              | *Outputs*: SimulationResult simRes;                                                                                                                                                                                                                                                                                                    |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **stringReplace**\ (str, source, target)                                     | Relace source with target within str producing res.                                                                                                                                                                                                                                                                                    |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String str; String source; String target; *Outputs*: String res;                                                                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **strtok**\ ()                                                               | Splits the strings at the places given by the token, for example\ *:* strtok("abcbdef","b") => {"a","c","def"}                                                                                                                                                                                                                         |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String string; String token; *Outputs*: String[:] strings;                                                                                                                                                                                                                                                                   |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **system**\ (fileName)                                                       | Execute system command. *Inputs*: String fileName; *Outputs*: Integer res;                                                                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **typeNameString**\ (c1)                                                     | Converts the qualified class name to string. *Inputs*: TypeName c1; *Outputs*: String out;                                                                                                                                                                                                                                             |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **typeNameStrings**\ (c1)                                                    | Converts the qualified class name to strings. *Inputs*: TypeName c1; *Outputs*: String out[:];                                                                                                                                                                                                                                         |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **typeOf**\ (variableName)                                                   | *Inputs*: VariableName variableName; *Outputs*: String res;                                                                                                                                                                                                                                                                            |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **uriToFilename**\ (uri)                                                     | Handles modelica:// and file:// URI's. The result is an absolute path on the local system. The result depends on the current MODELICAPATH. Returns the empty string on failure.                                                                                                                                                        |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String uri; *Outputs*: String fileName;                                                                                                                                                                                                                                                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **val**\ (var, time)                                                         | Returns the value of the variable at a certain time point.                                                                                                                                                                                                                                                                             |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: VariableName var; Real time; *Outputs*: Real valAtTime;                                                                                                                                                                                                                                                                      |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **writeFile(**\ fileName, data, optional\ **)**                              | Write the data to file. Returns true on success.                                                                                                                                                                                                                                                                                       |
|                                                                              |                                                                                                                                                                                                                                                                                                                                        |
|                                                                              | *Inputs*: String fileName; String data; Boolean append; *Outputs*: Boolean res;                                                                                                                                                                                                                                                        |
+------------------------------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Examples
~~~~~~~~

The following is an interactive session with the OpenModelica
environment including some of the abovementioned commands and examples.
First we start the system, and use the command line interface from
OMShell, OMNotebook, or command window of some of the other tools. The
system responds with a header line:

OpenModelica 1.9.0

We type in a very small model:

>> **model** test "Testing OpenModelica Scripts" Real x, y; **equation**
x = 5.0; y = 6.0; **end** test;

{test}

We give the command to flatten a model:

>> instantiateModel(test)

"**class** test

Real x;

Real y;

**equation**

x = 5.0;

y = 6.0;

**end** test;

"

A range expression is typed in:

>> a:=1:10

{1,2,3,4,5,6,7,8,9,10}

It is multiplied by 2:

>> a\*2

{2,4,6,8,10,12,14,16,18,20}

The variables are cleared:

>> clearVariables()

true

We print the loaded class test from its internal representation:

>> list(test)

"**class** test \\"Testing OpenModelica Scripts\\"

Real x;

Real y;

**equation**

x = 5.0;

y = 6.0;

**end** test;

"

We get the name and other properties of a class:

>> getClassNames()

{test}

>> getClassComment(test)

"Testing OpenModelica Scripts"

>> isPartial(test)

false

>> isPackage(test)

false

>> isModel(test)

true

>> checkModel(test)

"Check of test completed successfully.

Class test has 2 equation(s) and 2 variable(s).

2 of these are trivial equation(s).

"

>> clear()

true

>> getClassNames()

{}

The common combination of a simulation followed by getting a value and
doing a plot:

>> simulate(test, stopTime=3.0);

>> val(x , 2.0)

5.0

>> plot(y)

|image54|

>> plotAll()

|image55|

**VanDerPol Model and Parametric Plot**

>>
loadFile("C:/OpenModelica1.9.0/share/doc/omc/testmodels/VanDerPol.mo")

true

>> instantiateModel(VanDerPol)

"**class** VanDerPol \\"Van der Pol oscillator model\\"

Real x(start = 1.0);

Real y(start = 1.0);

**parameter** Real lambda = 0.3;

**equation**

**der**\ (x) = y;

**der**\ (y) = lambda \* (1.0 - x ^ 2.0) \* y - x;

**end** VanDerPol;

"

>> simulate(VanDerPol);

>> plotParametric(x,y)

|image56|

**Interactive Function Calls, Reading, and Writing**

We enter an assignment of a vector expression, created by the range
construction expression 1:12, to be stored in the variable x. The type
and the value of the expression is returned.

>> x := 1:12

{1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}

The function bubblesort is called to sort this vector in descending
order. The sorted result is returned together with its type. Note that
the result vector is of type Real[:], instantiated as Real[12], since
this is the declared type of the function result. The input Integer
vector was automatically converted to a Real vector according to the
Modelica type coercion rules.

>> bubblesort(x)

{12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1}

Now we want to try another small application, a simplex algorithm for
optimization. First read in a small matrix containing coefficients that
define a simplex problem to be solved:

>> a := read("simplex\_in.txt")

{{-1,-1,-1, 0, 0, 0, 0, 0, 0},

{-1, 1, 0, 1, 0, 0, 0, 0, 5},

{ 1, 4, 0, 0, 1, 0, 0, 0, 45},

{ 2, 1, 0, 0, 0, 1, 0, 0, 27},

{ 3,-4, 0, 0, 0, 0, 1, 0, 24},

{ 0, 0, 1, 0, 0, 0, 0, 1, 4}}

Then call the simplex algorithm implemented as the Modelica function
simplex1. This function returns four results, which are represented as a
tuple of four return values:

>> simplex1(a)

Tuple: 4

Real[8]: {9, 9, 4, 5, 0, 0, 33, 0}

Real: 22

Integer: 9

Integer: 3

It is possible to compute an expression, e.g. 12:-1:1, and store the
result in a file using the write command:

>> write(12:-1:1,"test.dat")

We can read back the stored result from the file into a variable y:

>> y := read("test.dat")

Integer[12]: {12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1}

It is also possible to give operating system commands via the system
utility function. A command is provided as a string argument. The
example below shows system applied to the Linux command cat, which here
outputs the contents of the file bubblesort.mo to the output stream.

>> system("cat bubblesort.mo")

**function** bubblesort

**input** Real[:] x;

**output** Real[size(x,1)] y;

**protected**

Real t;

**algorithm**

y := x;

**for** i **in** 1:size(x,1) **loop**

**for** j **in** 1:size(x,1) **loop**

**if** y[i] > y[j] **then**

t := y[i];

y[i] := y[j];

y[j] := t;

**end** **if**;

**end for**;

**end for**;

**end** bubblesort;

Another built-in command is cd, the *change current directory* command.
The resulting current directory is returned as a string.

>> cd("..")

"/home/petfr/modelica"

OpenModelica Python Scripting Commands
--------------------------------------

The OpenModelica Python API Interface—OMPython, attempts to mimic the
Modelica scripting commands available in the OpenModelica environment,
see the table in Section 13.1.4 for available Python scripting commands.
To test the command outputs, see some test examples described in section
13.1.
