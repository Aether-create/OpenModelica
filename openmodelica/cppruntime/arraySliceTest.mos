// name: arrayAppendTest
// keywords: slice array
// status: correct
// teardown_command: rm -f *ArraySlice.Test*

setCommandLineOptions("+simCodeTarget=Cpp");

loadString("
package ArraySlice
model Test
  Real[:] v = {1, 2, 3, 4, 5};
  Real[:] w = reverse(v);
  annotation(experiment(StopTime = 0));
end Test;
function reverse
  input Real[:] v;
  output Real[size(v, 1) - 1] w;
algorithm
  w := v[size(w, 1):-1:1];
end reverse;
end ArraySlice;
");
getErrorString();

simulate(ArraySlice.Test);
getErrorString();

val(w[1], 0);
val(w[4], 0);

// Result:
// true
// true
// ""
// record SimulationResult
//     resultFile = "ArraySlice.Test_res.mat",
//     simulationOptions = "startTime = 0.0, stopTime = 0.0, numberOfIntervals = 500, tolerance = 1e-06, method = 'dassl', fileNamePrefix = 'ArraySlice.Test', options = '', outputFormat = 'mat', variableFilter = '.*', cflags = '', simflags = ''",
//     messages = ""
// end SimulationResult;
// ""
// 4.0
// 1.0
// endResult
